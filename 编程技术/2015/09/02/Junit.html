<!DOCTYPEhtmlPUBLIC"-//W3C//DTDXHTML1.0Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"> 
<html>
	<!-- 引入CSS/JS -->
<head>
	<meta charset="utf-8">
	<link rel="stylesheet" type="text/css" href="/assets/css/main.css"/>
	<script type="text/javascript" src="/assets/javascripts/main.js"></script>

	<!-- pygments代码高亮 -->
	<!-- <link rel="stylesheet" type="text/css" href="/assets/css/pygments.css"/> -->
	<!-- google代码高亮 -->
	<script src="/assets/css/prettify.js"></script>
	<link href="/assets/css/prettify.css" rel="stylesheet">
	<title>junit</title>
</head>

	<body onload="prettyPrint()">
		<div class="tool">
	<span><b>WsztRush</b></span>
	<div class="links">
		<a href="/index.html">Blog</a>
		<a href="/categories.html">Categories</a>
		<a href="/about/">About</a>		
	</div>
</div>

		<div class="post-container">
			<h1>junit</h1>
			<p>打算定期看一个开源代码，听之前同事的建议于是从junit开始：</p>

<p>TestRunner加载和运行测试，入口类。
TestDecorator对Test进行包装。
TestSetup对Test进行包装，增加初始化、清理接口。</p>

<p>TestListener监听器，在发生对应的动作的时候进行调用：</p>
<pre class="prettyprint">
public interface TestListener {
    public void addError(Test test, Throwable t);
    public void addFailure(Test test, AssertionFailedError t);
    public void endTest(Test test);
    public void startTest(Test test);
}
</pre>

<p>TestSuite是TestCase的组合：
ActiveTestSuite创建一个新的线程来执行：</p>

<pre class="prettyprint">
public class TestSuite {
    private Vector<Test> fTests = new Vector<Test>(10);
}
&lt;/pre&gt;


TestResult
<pre class="prettyprint">
public class TestResult{
    protected List<TestFailure> fFailures;
    protected List<TestFailure> fErrors;
    protected List<TestListener> fListeners;
}
&lt;/pre&gt;


TestCase
<pre class="prettyprint">
public void runBare() throws Throwable {
    setUp(); // 初始化
    try {
        runTest(); // 通过反射调用方法
    } finally {
        tearDown(); // 清理
    }
}
</pre>
</TestListener></TestFailure></TestFailure></pre></Test></Test></pre>

			<!-- 评论组件 -->
			<div class="ds-thread" data-thread-key="/%E7%BC%96%E7%A8%8B%E6%8A%80%E6%9C%AF/2015/09/02/Junit.html" data-title="junit"  data-url="/%E7%BC%96%E7%A8%8B%E6%8A%80%E6%9C%AF/2015/09/02/Junit.html"></div>
			<!-- 评论组件 -->
			<div id="disqus_thread"/>
		</div>
	</body>
</html>
<!-- 评论组件 -->
<script type="text/javascript">
	var disqus_shortname = 'wsztrush';
	(function() {
		var dsq = document.createElement('script');
		dsq.type = 'text/javascript';
		dsq.async = true;
		dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
		(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
	})();
</script>
<!-- 多说公共JS代码-->
<script type="text/javascript">
var duoshuoQuery = {short_name:"wsztrush"};
	(function() {
		var ds = document.createElement('script');
		ds.type = 'text/javascript';ds.async = true;
		ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
		ds.charset = 'UTF-8';
		(document.getElementsByTagName('head')[0] 
		 || document.getElementsByTagName('body')[0]).appendChild(ds);
	})();
</script>

<!-- 百度访问统计 -->
<script>
  var _hmt = _hmt || [];
  (function() {
    var hm = document.createElement("script");
    hm.src = "//hm.baidu.com/hm.js?08a976e8d7e5a20acfcb566bd22a1db1";
    var s = document.getElementsByTagName("script")[0]; 
    s.parentNode.insertBefore(hm, s);
  })();
</script>


